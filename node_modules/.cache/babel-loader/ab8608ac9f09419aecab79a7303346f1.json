{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"C:/Users/salov/Desktop/asd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/salov/Desktop/asd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/salov/Desktop/asd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/salov/Desktop/asd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{connect}from\"react-redux\";import{addSmallDataActionCreator}from\"../../Redux/smallDataReduser\";import{addBigDataActionCreator}from\"../../Redux/bigDataReduser\";import{loadBigDataApi,loadSmallDataApi}from\"../../API/Api\";import s from'./MainPage.module.css';import MainData from\"../MainData/MainData\";import AddForm from\"../AddForm/AddForm\";import{switchLoaderActionCreator}from\"../../Redux/loadReduser\";import Loader from\"../Loader/Loader\";import ErrorMessage from\"../ErrorMessage/ErrorMessage\";var MainPage=function MainPage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),view=_useState4[0],setView=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),newItems=_useState6[0],setNewItems=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),load=_useState8[0],setLoad=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var loadSmallData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tmp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);setError(false);_context.prev=2;_context.next=5;return loadSmallDataApi();case 5:tmp=_context.sent;props.addSmallDataActionCreator(tmp);setData(tmp);setNewItems(false);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);setError(\"Some error with Network\");case 14:_context.prev=14;setLoad(false);return _context.finish(14);case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,11,14,17]]);}));return function loadSmallData(){return _ref.apply(this,arguments);};}();var loadBigData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var tmp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setError(false);setLoad(true);_context2.prev=2;_context2.next=5;return loadBigDataApi();case 5:tmp=_context2.sent;props.addBigDataActionCreator(tmp);setData(tmp);setNewItems(false);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);setError(\"Some error with Network\");case 14:_context2.prev=14;setLoad(false);return _context2.finish(14);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[2,11,14,17]]);}));return function loadBigData(){return _ref2.apply(this,arguments);};}();var addItem=function addItem(){setView(view?false:true);};var addNewItem=function addNewItem(item){var tmp=[item];tmp=tmp.concat(newItems);setNewItems(tmp);if(data.data){// eslint-disable-next-line array-callback-return\ndata.data=tmp.filter(function(e){if(e){return e;}}).concat(data.data);var copy=_objectSpread({},data);setData(copy);}else{setData({// eslint-disable-next-line array-callback-return\ndata:tmp.filter(function(e){if(e){return e;}})});}setNewItems(false);};return/*#__PURE__*/_jsxs(\"div\",{className:s.buttonBlock,children:[/*#__PURE__*/_jsx(\"button\",{className:s.mainButton,onClick:loadSmallData,children:\"Load small data\"}),/*#__PURE__*/_jsx(\"button\",{className:s.mainButton,onClick:loadBigData,children:\"Load big data\"}),/*#__PURE__*/_jsx(\"button\",{className:s.mainButton,onClick:addItem,children:\"Add item\"}),/*#__PURE__*/_jsx(AddForm,{addNewItem:addNewItem,view:view}),error?/*#__PURE__*/_jsx(ErrorMessage,{data:error}):load?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(MainData,{data:data,newItems:newItems})]});};var mapStateToProps=function mapStateToProps(state){return{smallData:state.smallData,bigData:state.bigData,isLoad:state.isLoader};};export default connect(mapStateToProps,{addSmallDataActionCreator:addSmallDataActionCreator,addBigDataActionCreator:addBigDataActionCreator,switchLoaderActionCreator:switchLoaderActionCreator})(MainPage);","map":{"version":3,"sources":["C:/Users/salov/Desktop/asd/src/components/MainPage/MainPage.jsx"],"names":["React","useState","connect","addSmallDataActionCreator","addBigDataActionCreator","loadBigDataApi","loadSmallDataApi","s","MainData","AddForm","switchLoaderActionCreator","Loader","ErrorMessage","MainPage","props","data","setData","view","setView","newItems","setNewItems","load","setLoad","error","setError","loadSmallData","tmp","loadBigData","addItem","addNewItem","item","concat","filter","e","copy","buttonBlock","mainButton","mapStateToProps","state","smallData","bigData","isLoad","isLoader"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {addSmallDataActionCreator} from \"../../Redux/smallDataReduser\";\r\nimport {addBigDataActionCreator} from \"../../Redux/bigDataReduser\";\r\nimport {loadBigDataApi, loadSmallDataApi} from \"../../API/Api\";\r\nimport s from './MainPage.module.css'\r\nimport MainData from \"../MainData/MainData\";\r\nimport AddForm from \"../AddForm/AddForm\";\r\nimport {switchLoaderActionCreator} from \"../../Redux/loadReduser\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ErrorMessage from \"../ErrorMessage/ErrorMessage\";\r\n\r\nconst MainPage = (props) => {\r\n    const [data, setData] = useState(false)\r\n    const [view, setView] = useState(false)\r\n    const [newItems, setNewItems] = useState(false)\r\n    const [load, setLoad] = useState(false)\r\n    const [error, setError] = useState(false)\r\n\r\n    const loadSmallData = async () => {\r\n        setLoad(true)\r\n        setError(false)\r\n        try {\r\n            const tmp = await loadSmallDataApi()\r\n            props.addSmallDataActionCreator(tmp)\r\n            setData(tmp)\r\n            setNewItems(false)\r\n        } catch (e) {\r\n            setError(\"Some error with Network\")\r\n        } finally {\r\n            setLoad(false)\r\n        }\r\n    }\r\n\r\n    const loadBigData = async () => {\r\n        setError(false)\r\n        setLoad(true)\r\n        try {\r\n            const tmp = await loadBigDataApi()\r\n            props.addBigDataActionCreator(tmp)\r\n            setData(tmp)\r\n            setNewItems(false)\r\n        } catch (e) {\r\n            setError(\"Some error with Network\")\r\n        } finally {\r\n            setLoad(false)\r\n        }\r\n    }\r\n\r\n    const addItem = () => {\r\n        setView(view ? false : true)\r\n    }\r\n\r\n    const addNewItem = (item) => {\r\n        let tmp = [item]\r\n        tmp = tmp.concat(newItems)\r\n        setNewItems(tmp)\r\n        if (data.data) {\r\n            // eslint-disable-next-line array-callback-return\r\n            data.data = tmp.filter(e => {\r\n                if (e) {\r\n                    return e\r\n                }\r\n            }).concat(data.data)\r\n            let copy = {...data}\r\n            setData(copy)\r\n        } else {\r\n            setData({\r\n                // eslint-disable-next-line array-callback-return\r\n                data: tmp.filter(e => {\r\n                    if (e) {\r\n                        return e\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n        setNewItems(false)\r\n    }\r\n\r\n    return (\r\n        <div className={s.buttonBlock}>\r\n            <button className={s.mainButton} onClick={loadSmallData}>Load small data</button>\r\n            <button className={s.mainButton} onClick={loadBigData}>Load big data</button>\r\n            <button className={s.mainButton} onClick={addItem}>Add item</button>\r\n            <AddForm addNewItem={addNewItem} view={view}/>\r\n            {error ? <ErrorMessage data={error}/> : load ? <Loader/> : <MainData data={data} newItems={newItems}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        smallData: state.smallData,\r\n        bigData: state.bigData,\r\n        isLoad: state.isLoader\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    addSmallDataActionCreator,\r\n    addBigDataActionCreator,\r\n    switchLoaderActionCreator\r\n})(MainPage)"]},"metadata":{},"sourceType":"module"}